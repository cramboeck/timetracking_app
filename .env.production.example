# =============================================================================
# RamboFlow Production Environment Variables
# =============================================================================
# WICHTIG: Kopiere diese Datei zu .env.production und fülle ALLE Werte aus!
#
# Befehl: cp .env.production.example .env.production
#         nano .env.production
# =============================================================================

# -----------------------------------------------------------------------------
# DOMAIN KONFIGURATION
# -----------------------------------------------------------------------------
# Deine Domain OHNE https://
DOMAIN=deine-domain.de

# Frontend URL (mit https://)
FRONTEND_URL=https://deine-domain.de

# Backend URL (für Webhooks und externe Links - OHNE /api am Ende!)
BACKEND_URL=https://deine-domain.de

# -----------------------------------------------------------------------------
# DATENBANK
# -----------------------------------------------------------------------------
# PostgreSQL Passwort - MUSS geändert werden!
# Generiere ein sicheres Passwort mit: openssl rand -base64 32
DB_PASSWORD=GENERIERE_EIN_SICHERES_PASSWORT_HIER

# Datenbank-Konfiguration (Standard-Werte, normalerweise nicht ändern)
DB_NAME=timetracking
DB_USER=timetracking
DB_HOST=database
DB_PORT=5432

# Vollständige Database URL (wird automatisch aus obigen Werten gebaut)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# SSL für Datenbank (false für Docker-interne Verbindungen, true für externe DB)
DB_SSL=false

# -----------------------------------------------------------------------------
# JWT / AUTHENTICATION
# -----------------------------------------------------------------------------
# JWT Secret für Token-Signierung - MUSS geändert werden!
# Generiere einen langen String mit: openssl rand -base64 64
JWT_SECRET=GENERIERE_EINEN_LANGEN_ZUFAELLIGEN_STRING_HIER

# JWT Token Gültigkeit (in Sekunden)
JWT_EXPIRES_IN=604800

# -----------------------------------------------------------------------------
# EMAIL KONFIGURATION (für Passwort-Reset, Einladungen, etc.)
# -----------------------------------------------------------------------------
# Setze auf "false" wenn du echte E-Mails versenden willst
EMAIL_TEST_MODE=true

# SMTP-Konfiguration (nur wenn EMAIL_TEST_MODE=false)
# Beispiel für Gmail:
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=deine-email@gmail.com
EMAIL_PASSWORD=dein-gmail-app-passwort
EMAIL_FROM=RamboFlow <noreply@deine-domain.de>

# Für andere Provider:
# - Office 365: smtp.office365.com:587
# - SendGrid: smtp.sendgrid.net:587
# - Mailgun: smtp.mailgun.org:587
# - AWS SES: email-smtp.eu-central-1.amazonaws.com:587

# -----------------------------------------------------------------------------
# SSL / CERTBOT
# -----------------------------------------------------------------------------
# E-Mail für Let's Encrypt Benachrichtigungen
CERTBOT_EMAIL=deine-email@domain.de

# Staging-Modus (für Tests, vermeidet Rate-Limits)
# Setze auf "false" für echte Zertifikate!
CERTBOT_STAGING=false

# -----------------------------------------------------------------------------
# NODE ENVIRONMENT
# -----------------------------------------------------------------------------
NODE_ENV=production

# Backend Port (intern, nur für Container-Kommunikation)
BACKEND_PORT=3001

# Frontend Port (intern, nur für Container-Kommunikation)
FRONTEND_PORT=8080

# -----------------------------------------------------------------------------
# SECURITY & RATE LIMITING
# -----------------------------------------------------------------------------
# Rate Limit für API (Anfragen pro Sekunde)
API_RATE_LIMIT=10

# Rate Limit für Login (Anfragen pro Minute)
LOGIN_RATE_LIMIT=5

# CORS Origins (Komma-separiert, falls mehrere)
CORS_ORIGINS=${FRONTEND_URL}

# -----------------------------------------------------------------------------
# BACKUP KONFIGURATION
# -----------------------------------------------------------------------------
# Backup-Aufbewahrung in Tagen
BACKUP_RETENTION_DAYS=30

# Backup-Zeit (Cron-Format: Minute Stunde Tag Monat Wochentag)
# Standard: 2:00 Uhr nachts
BACKUP_CRON=0 2 * * *

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
# Log Level: error, warn, info, debug
LOG_LEVEL=info

# Log-Dateien aufbewahren (Tage)
LOG_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# ZEITERFASSUNG / APP-SPEZIFISCH
# -----------------------------------------------------------------------------
# Standard-Zeitrundung (in Minuten: 1, 5, 10, 15)
DEFAULT_TIME_ROUNDING=15

# Maximale Upload-Größe für CSV-Import (in MB)
MAX_CSV_SIZE=10

# Session Timeout (in Minuten)
SESSION_TIMEOUT=60

# -----------------------------------------------------------------------------
# PUSH NOTIFICATIONS (Web Push / VAPID)
# -----------------------------------------------------------------------------
# Generiere VAPID Keys mit: npx web-push generate-vapid-keys
# Diese Keys werden für Browser Push-Notifications benötigt
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@deine-domain.de

# -----------------------------------------------------------------------------
# MONITORING (optional)
# -----------------------------------------------------------------------------
# Sentry DSN für Error-Tracking (leer lassen wenn nicht genutzt)
SENTRY_DSN=

# -----------------------------------------------------------------------------
# HINWEISE
# -----------------------------------------------------------------------------
# 1. Generiere sichere Passwörter mit: openssl rand -base64 32
# 2. Ersetze ALLE Platzhalter mit echten Werten
# 3. Speichere diese Datei NICHT in Git!
# 4. Prüfe die Werte doppelt vor dem Deployment
# 5. Backup dieser Datei an sicherem Ort aufbewahren
# =============================================================================
